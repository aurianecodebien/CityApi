apiVersion: postgresql.cnpg.io/v1
kind: Database
metadata:
  name: city-api-prod-db
  labels:
    app: city-api-app
    environment: prod
spec:
  databaseReclaimPolicy: retain
  name: city_api-prod-pg
  cluster:
    name: city-api-pg
  owner: city_api
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: cnpg-controller-manager-config
  namespace: cnpg-system
data:
  INHERITED_ANNOTATIONS: categories
  INHERITED_LABELS: environment, workload, app
  ENABLE_INSTANCE_MANAGER_INPLACE_UPDATES: 'true'
---
apiVersion: v1
kind: Secret
metadata:
  name: cnpg-controller-manager-config
  namespace: cnpg-system
type: Opaque
data:
  CNPG_PASSWORD: eW91ci1wYXNzd29yZA==
